webpackJsonp([2],{"++Rv":function(e,t,i){"use strict";var a=i("pFYg"),n=i.n(a),r=function(){function e(){"complete"==_.readyState&&(_.parentNode.removeChild(_),t())}function t(){if(!V){if(D.ie&&D.win){var e=m("span");try{var t=$.getElementsByTagName("body")[0].appendChild(e);t.parentNode.removeChild(t)}catch(e){return}}V=!0,F&&(clearInterval(F),F=null);for(var i=E.length,a=0;a<i;a++)E[a]()}}function i(e){V?e():E[E.length]=e}function a(e){if(n()(S.addEventListener)!=C)S.addEventListener("load",e,!1);else if(n()($.addEventListener)!=C)$.addEventListener("load",e,!1);else if(n()(S.attachEvent)!=C)b(S,"onload",e);else if("function"==typeof S.onload){var t=S.onload;S.onload=function(){t(),e()}}else S.onload=e}function o(){for(var e=O.length,t=0;t<e;t++){var i=O[t].id;if(D.pv[0]>0){var a=h(i);a&&(O[t].width=a.getAttribute("width")?a.getAttribute("width"):"0",O[t].height=a.getAttribute("height")?a.getAttribute("height"):"0",g(O[t].swfVersion)?(D.webkit&&D.webkit<312&&s(a),y(i,!0)):O[t].expressInstall&&!R&&g("6.0.65")&&(D.win||D.mac)?l(O[t]):d(a))}else y(i,!0)}}function s(e){var t=e.getElementsByTagName(L)[0];if(t){var i=m("embed"),a=t.attributes;if(a)for(var n=a.length,r=0;r<n;r++)"DATA"==a[r].nodeName?i.setAttribute("src",a[r].nodeValue):i.setAttribute(a[r].nodeName,a[r].nodeValue);var o=t.childNodes;if(o)for(var s=o.length,l=0;l<s;l++)1==o[l].nodeType&&"PARAM"==o[l].nodeName&&i.setAttribute(o[l].getAttribute("name"),o[l].getAttribute("value"));e.parentNode.replaceChild(i,e)}}function l(e){R=!0;var t=h(e.id);if(t){if(e.altContentId){var i=h(e.altContentId);i&&(B=i,M=e.altContentId)}else B=c(t);!/%$/.test(e.width)&&parseInt(e.width,10)<310&&(e.width="310"),!/%$/.test(e.height)&&parseInt(e.height,10)<137&&(e.height="137"),$.title=$.title.slice(0,47)+" - Flash Player Installation";var a=D.ie&&D.win?"ActiveX":"PlugIn",n=$.title,r="MMredirectURL="+S.location+"&MMplayerType="+a+"&MMdoctitle="+n,o=e.id;if(D.ie&&D.win&&4!=t.readyState){var s=m("div");o+="SWFObjectNew",s.setAttribute("id",o),t.parentNode.insertBefore(s,t),t.style.display="none";b(S,"onload",function(){t.parentNode.removeChild(t)})}v({data:e.expressInstall,id:j,width:e.width,height:e.height},{flashvars:r},o)}}function d(e){if(D.ie&&D.win&&4!=e.readyState){var t=m("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none";b(S,"onload",function(){e.parentNode.removeChild(e)})}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=m("div");if(D.win&&D.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(L)[0];if(i){var a=i.childNodes;if(a)for(var n=a.length,r=0;r<n;r++)1==a[r].nodeType&&"PARAM"==a[r].nodeName||8==a[r].nodeType||t.appendChild(a[r].cloneNode(!0))}}return t}function v(e,t,i){var a,r=h(i);if(r)if(n()(e.id)==C&&(e.id=i),D.ie&&D.win){var o="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?o+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+e[s]+'"'));var l="";for(var d in t)t[d]!=Object.prototype[d]&&(l+='<param name="'+d+'" value="'+t[d]+'" />');r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+l+"</object>",T[T.length]=e.id,a=h(e.id)}else if(D.webkit&&D.webkit<312){var c=m("embed");c.setAttribute("type",A);for(var v in e)e[v]!=Object.prototype[v]&&("data"==v.toLowerCase()?c.setAttribute("src",e[v]):"styleclass"==v.toLowerCase()?c.setAttribute("class",e[v]):"classid"!=v.toLowerCase()&&c.setAttribute(v,e[v]));for(var p in t)t[p]!=Object.prototype[p]&&"movie"!=p.toLowerCase()&&c.setAttribute(p,t[p]);r.parentNode.replaceChild(c,r),a=c}else{var u=m(L);u.setAttribute("type",A);for(var b in e)e[b]!=Object.prototype[b]&&("styleclass"==b.toLowerCase()?u.setAttribute("class",e[b]):"classid"!=b.toLowerCase()&&u.setAttribute(b,e[b]));for(var g in t)t[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&f(u,g,t[g]);r.parentNode.replaceChild(u,r),a=u}return a}function f(e,t,i){var a=m("param");a.setAttribute("name",t),a.setAttribute("value",i),e.appendChild(a)}function p(e){var t=h(e);!t||"OBJECT"!=t.nodeName&&"EMBED"!=t.nodeName||(D.ie&&D.win?4==t.readyState?u(e):S.attachEvent("onload",function(){u(e)}):t.parentNode.removeChild(t))}function u(e){var t=h(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function h(e){var t=null;try{t=$.getElementById(e)}catch(e){}return t}function m(e){return $.createElement(e)}function b(e,t,i){e.attachEvent(t,i),P[P.length]=[e,t,i]}function g(e){var t=D.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]}function w(e,t){if(!D.ie||!D.mac){var i=$.getElementsByTagName("head")[0],a=m("style");if(a.setAttribute("type","text/css"),a.setAttribute("media","screen"),D.ie&&D.win||n()($.createTextNode)==C||a.appendChild($.createTextNode(e+" {"+t+"}")),i.appendChild(a),D.ie&&D.win&&n()($.styleSheets)!=C&&$.styleSheets.length>0){var r=$.styleSheets[$.styleSheets.length-1];n()(r.addRule)==L&&r.addRule(e,t)}}}function y(e,t){var i=t?"visible":"hidden";V&&h(e)?h(e).style.visibility=i:w("#"+e,"visibility:"+i)}function x(e){return null!=/[\\\"<>\.;]/.exec(e)?encodeURIComponent(e):e}var _,C="undefined",L="object",I="Shockwave Flash",k="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",j="SWFObjectExprInst",S=window,$=document,N=navigator,E=[],O=[],T=[],P=[],F=null,B=null,M=null,V=!1,R=!1,D=function(){var e=n()($.getElementById)!=C&&n()($.getElementsByTagName)!=C&&n()($.createElement)!=C,t=[0,0,0],i=null;if(n()(N.plugins)!=C&&n()(N.plugins[I])==L)!(i=N.plugins[I].description)||n()(N.mimeTypes)!=C&&N.mimeTypes[A]&&!N.mimeTypes[A].enabledPlugin||(i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),t[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),t[2]=/r/.test(i)?parseInt(i.replace(/^.*r(.*)$/,"$1"),10):0);else if(n()(S.ActiveXObject)!=C){var a=null,r=!1;try{a=new ActiveXObject(k+".7")}catch(e){try{a=new ActiveXObject(k+".6"),t=[6,0,21],a.AllowScriptAccess="always"}catch(e){6==t[0]&&(r=!0)}if(!r)try{a=new ActiveXObject(k)}catch(e){}}if(!r&&a)try{i=a.GetVariable("$version"),i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}catch(e){}}var o=N.userAgent.toLowerCase(),s=N.platform.toLowerCase(),l=!!/webkit/.test(o)&&parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),d=/win/.test(s?s:o),c=/mac/.test(s?s:o);return{w3cdom:e,pv:t,webkit:l,ie:!1,win:d,mac:c}}();(function(){if(D.w3cdom){if(i(o),D.ie&&D.win)try{$.write("<script id=__ie_ondomload defer=true src=//:><\/script>"),_=h("__ie_ondomload"),_&&b(_,"onreadystatechange",e)}catch(e){}D.webkit&&n()($.readyState)!=C&&(F=setInterval(function(){/loaded|complete/.test($.readyState)&&t()},10)),n()($.addEventListener)!=C&&$.addEventListener("DOMContentLoaded",t,null),a(t)}})(),function(){D.ie&&D.win&&window.attachEvent("onunload",function(){for(var e=P.length,t=0;t<e;t++)P[t][0].detachEvent(P[t][1],P[t][2]);for(var i=T.length,a=0;a<i;a++)p(T[a]);for(var n in D)D[n]=null;D=null;for(var o in r)r[o]=null;r=null})}();return{registerObject:function(e,t,i){if(D.w3cdom&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=i||!1,O[O.length]=a,y(e,!1)}},getObjectById:function(e){var t=null;if(D.w3cdom){var i=h(e);if(i){var a=i.getElementsByTagName(L)[0];!a||a&&n()(i.SetVariable)!=C?t=i:n()(a.SetVariable)!=C&&(t=a)}}return t},embedSWF:function(e,t,a,r,o,s,d,c,f){if(D.w3cdom&&e&&t&&a&&r&&o)if(a+="",r+="",g(o)){y(t,!1);var p={};if(f&&(void 0===f?"undefined":n()(f))===L)for(var u in f)f[u]!=Object.prototype[u]&&(p[u]=f[u]);p.data=e,p.width=a,p.height=r;var h={};if(c&&(void 0===c?"undefined":n()(c))===L)for(var m in c)c[m]!=Object.prototype[m]&&(h[m]=c[m]);if(d&&(void 0===d?"undefined":n()(d))===L)for(var b in d)d[b]!=Object.prototype[b]&&(n()(h.flashvars)!=C?h.flashvars+="&"+b+"="+d[b]:h.flashvars=b+"="+d[b]);i(function(){v(p,h,t),p.id==t&&y(t,!0)})}else s&&!R&&g("6.0.65")&&(D.win||D.mac)&&(R=!0,y(t,!1),i(function(){var e={};e.id=e.altContentId=t,e.width=a,e.height=r,e.expressInstall=s,l(e)}))},getFlashPlayerVersion:function(){return{major:D.pv[0],minor:D.pv[1],release:D.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(e,t,i){return D.w3cdom?v(e,t,i):void 0},removeSWF:function(e){D.w3cdom&&p(e)},createCSS:function(e,t){D.w3cdom&&w(e,t)},addDomLoadEvent:i,addLoadEvent:a,getQueryParamValue:function(e){var t=$.location.search||$.location.hash;if(null==e)return x(t);if(t)for(var i=t.substring(1).split("&"),a=0;a<i.length;a++)if(i[a].substring(0,i[a].indexOf("="))==e)return x(i[a].substring(i[a].indexOf("=")+1));return""},expressInstallCallback:function(){if(R&&B){var e=h(j);e&&(e.parentNode.replaceChild(B,e),M&&(y(M,!0),D.ie&&D.win&&(B.style.display="block")),B=null,M=null,R=!1)}}}}();t.a=r},"3V1R":function(e,t,i){"use strict";var a=i("Dd8w"),n=i.n(a),r=i("NYxO"),o=i("++Rv");t.a={name:"Live",data:function(){return{roomid:this.$route.params.roomid,play:"",rtmp:"",liveInfo:{}}},computed:n()({},Object(r.b)(["groupInfo"])),mounted:function(){var e={quality:"high",allowFullScreen:"true",wmode:"transparent",allowScriptAccess:"always",align:"middle",bgcolor:"#191919"};o.a.embedSWF("http://medicayun.com.cn/home/liveroom.swf","mylive","100%",window.innerHeight-50,"9.0",!1,{},e),this.getLiveInfo(),this.rtmp="rtmp://push.medicayun.com/medicayunvideo/"+this.roomid+"?vhost=class.medicayun.com"},methods:{live:function(){""===this.roomid&&(this.roomid="marco"),console.log("open video"),o.a.getObjectById("mylive").Start(this.rtmp)},getLiveInfo:function(){var e=this;this.$API.GetLiveInfo({userid:this.$store.state.user.id,liveid:this.roomid}).then(function(t){e.liveInfo=t,t.userid===e.$store.state.user.id&&setTimeout(e.live,1e3)})},copy:function(){this.$el.querySelector(".rtmpurl").select(),document.execCommand("copy"),this.toast({text:"推流链接复制成功",type:"success"})},stopLive:function(){var e=this;o.a.getObjectById("mylive").Stop(),this.$API.DelLive({userid:this.$store.state.user.id,liveid:this.roomid}).then(function(t){e.toast({text:"关闭成功"})})}}}},"41Au":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"room row"},[i("div",{staticClass:"flex1 live"},[i("div",{staticClass:"header row space center"},[i("router-link",{attrs:{to:{name:"projectLive",params:{projectid:this.$route.params.projectid}}}},[e._v("\n        "+e._s(e.groupInfo.projectname)+"\n      ")]),e._v(" "),i("div",{staticClass:"row"},[i("input",{staticClass:"rtmpurl",attrs:{readonly:""},domProps:{value:e.rtmp}}),e._v(" "),i("span",{staticClass:"copy-btn",on:{click:e.copy}},[e._v("复制")])])],1),e._v(" "),e._m(0)]),e._v(" "),i("div",{staticClass:"livetalk"},[i("div",{staticClass:"liveinfo"},[i("div",{staticClass:"header row center"},[i("m-avatar",{attrs:{avatar:e.liveInfo.avatar}}),e._v(" "),i("div",{staticClass:"col baseinfo"},[i("div",[i("router-link",{attrs:{to:{name:"Profile",params:{userid:e.liveInfo.userid}}}},[e._v(e._s(e.liveInfo.name))]),e._v(" "),i("span",[e._v("正在直播")]),e._v(" "),i("a",[e._v(e._s(e.liveInfo.title))])],1),e._v(" "),i("div",{staticClass:"time"},[i("span",[e._v(e._s(e._f("formatDate")(e.liveInfo.createtime)))])])])],1),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v(e._s(e.liveInfo.content))])])]),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("m-button",{attrs:{type:"blue"},on:{click:e.live}},[e._v("直播")]),e._v(" "),i("m-button",{attrs:{type:"gray",width:"120"},on:{click:e.stopLive}},[e._v("停止直播")])],1)])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video"},[i("div",{attrs:{id:"mylive"}})])}],r={render:a,staticRenderFns:n};t.a=r},HtuP:function(e,t,i){var a=i("rbVT");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("727e5d5d",a,!0)},S0SY:function(e,t,i){"use strict";function a(e){i("S78H")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("3V1R"),r=i("41Au"),o=i("VU/8"),s=a,l=o(n.a,r.a,!1,s,"data-v-2bf105bc",null);t.default=l.exports},S78H:function(e,t,i){var a=i("UG8q");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("7a18df19",a,!0)},UG8q:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".overflow[data-v-2bf105bc]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.room[data-v-2bf105bc]{position:absolute;height:100%;width:100%;left:0;top:0;background:#fff;overflow:hidden}.room .live[data-v-2bf105bc]{height:100%;background:#000;position:relative}.room .live .header[data-v-2bf105bc]{background:#fff;height:50px;border:1px solid #ddd;line-height:50px;padding:0 16px}.room .live .header .rtmpurl[data-v-2bf105bc]{color:rgba(0,0,0,.54);width:200px;border-radius:0}.room .live .header .copy-btn[data-v-2bf105bc]{display:inline-block;background:#eff3f6;background-image:-webkit-gradient(linear,left top,left bottom,from(#fafbfc),color-stop(90%,#eff3f6));background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);height:30px;border:1px solid #ddd;border-left:0;line-height:28px;padding:0 12px;color:rgba(0,0,0,.54);cursor:pointer}.room .livetalk[data-v-2bf105bc]{width:400px}.room .livetalk .liveinfo[data-v-2bf105bc]{margin:12px}.room .livetalk .liveinfo .header .baseinfo[data-v-2bf105bc]{margin-left:8px;color:rgba(0,0,0,.54)}.room .livetalk .liveinfo .header .baseinfo a[data-v-2bf105bc]{color:#365899;font-weight:600}.room .livetalk .liveinfo .header .baseinfo .time[data-v-2bf105bc]{font-size:12px}.room .livetalk .liveinfo .content[data-v-2bf105bc]{padding-left:48px;padding-top:8px}.room .livetalk .liveinfo .content img[data-v-2bf105bc]{padding-top:12px;display:inline-block;width:100%;max-height:450px}",""])},dx3t:function(e,t,i){"use strict";t.a={name:"Live",data:function(){return{livetitle:"",posttext:"",addLoading:!1,liveList:[]}},mounted:function(){this.getLives()},methods:{getLives:function(){var e=this;this.$API.GetLives({userid:this.$store.state.user.id,projectid:this.$route.params.projectid}).then(function(t){e.liveList=t})},LaunchLive:function(){var e=this;this.addLoading=!0,this.$API.AddLive({userid:this.$store.state.user.id,projectid:this.$route.params.projectid,title:this.livetitle,content:this.posttext}).then(function(t){console.log("launch live："+t.liveid),e.addLoading=!1,e.$router.push({name:"LiveRoom",params:{roomid:t.liveid,projectid:e.$route.params.projectid}}).catch(function(t){console.log(t),e.addLoading=!1})})}}}},f8PO:function(e,t,i){"use strict";function a(e){i("HtuP")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("dx3t"),r=i("rAMb"),o=i("VU/8"),s=a,l=o(n.a,r.a,!1,s,"data-v-bc4e76a6",null);t.default=l.exports},rAMb:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"live row"},[i("div",{staticClass:"left"},[i("div",{staticClass:"launch-live"},[i("div",{staticClass:"content row"},[i("m-avatar",{attrs:{avatar:e.$store.state.user.avatar,name:e.$store.state.user.name}}),e._v(" "),i("div",{staticClass:"flex1"},[i("m-textarea",{attrs:{hintText:"点击填写内容"},model:{value:e.posttext,callback:function(t){e.posttext=t},expression:"posttext"}})],1)],1),e._v(" "),i("div",{staticClass:"send row center"},[i("div",{staticClass:"flex1"},[i("m-input",{attrs:{full:"",hintText:"标题"},model:{value:e.livetitle,callback:function(t){e.livetitle=t},expression:"livetitle"}})],1),e._v(" "),i("m-button",{attrs:{type:"blue",width:"100",loading:e.addLoading},on:{click:e.LaunchLive}},[e._v("发起直播")])],1)]),e._v(" "),i("div",{staticClass:"live-list"},e._l(e.liveList,function(t){return i("div",{key:t.liveid,staticClass:"card"},[i("div",{staticClass:"header row center"},[i("m-avatar",{attrs:{avatar:t.avatar}}),e._v(" "),i("div",{staticClass:"col baseinfo"},[i("div",[i("router-link",{attrs:{to:{name:"Profile",params:{userid:t.userid}}}},[e._v(e._s(t.name))]),e._v(" "),i("span",[e._v("正在直播")]),e._v(" "),i("router-link",{staticClass:"livename",attrs:{to:{name:"LiveRoom",params:{roomid:t.liveid,projectid:e.$route.params.projectid}}}},[e._v("\n                "+e._s(t.title)+"\n              ")])],1),e._v(" "),i("div",{staticClass:"time"},[i("span",[e._v(e._s(e._f("formatDate")(t.createtime)))])])])],1),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v(e._s(t.content))]),e._v(" "),i("img",{attrs:{src:"http://medicayunvideo.oss-cn-shanghai.aliyuncs.com/videodata/medicayunvideo/"+t.liveid+".jpg",alt:""}})])])}))]),e._v(" "),i("div",{staticClass:"right-content"},[i("div",{staticClass:"card"},[i("p",[e._v("提交问题反馈，我们一起改善产品")]),e._v(" "),i("p",[e._v("\n        欢迎您把使用产品时遇到的问题提交给我们，\n        无论是涉及功能的修正，改善，或是产品使用体验的提升，应用场景建议等等，\n        点击下面的按钮，把您的意见发送给我们。\n      ")]),e._v(" "),i("div",{staticClass:"text-center"},[i("router-link",{attrs:{to:{name:"HelpSuggest"}}},[i("m-button",{attrs:{type:"flat-blue",width:"150"}},[e._v("提交反馈")])],1)],1)]),e._v(" "),i("footer-widget",{staticClass:"footer"})],1)])},n=[],r={render:a,staticRenderFns:n};t.a=r},rbVT:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".overflow[data-v-bc4e76a6]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.launch-live[data-v-bc4e76a6]{background:#fff;padding:16px;width:500px}.launch-live .send[data-v-bc4e76a6]{margin-top:8px}.launch-live .send .flex1[data-v-bc4e76a6]{margin-right:16px}.live-list[data-v-bc4e76a6]{margin-bottom:30px}.live-list .card[data-v-bc4e76a6]{width:500px;margin-top:12px}.live-list .card .header .baseinfo[data-v-bc4e76a6]{margin-left:8px;color:rgba(0,0,0,.54)}.live-list .card .header .baseinfo a[data-v-bc4e76a6]{color:#365899;font-weight:600}.live-list .card .header .baseinfo .time[data-v-bc4e76a6]{font-size:12px}.live-list .card .content[data-v-bc4e76a6]{padding-left:48px;padding-top:12px}.live-list .card .content img[data-v-bc4e76a6]{padding-top:12px;display:inline-block;width:100%;max-height:450px}.right-content[data-v-bc4e76a6]{margin-left:16px;-webkit-box-flex:3;-ms-flex:3;flex:3}.right-content .card>p[data-v-bc4e76a6]:first-child{color:#777}.right-content p[data-v-bc4e76a6]{padding-bottom:20px}.right-content .footer[data-v-bc4e76a6]{margin-top:16px}",""])}});